var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequire5220;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},e.parcelRequire5220=n);var a=n("6QD2Y"),r=n("etBjH"),i=n("aYguL");async function l(e,t=[]){return t.map((async t=>{const o=await async function(e,t){const o=i.ref(e,`products/images/${t.name}`);return await i.uploadBytes(o,t)}(e,t);return i.getDownloadURL(i.ref(e,o.ref.fullPath))}))}const c=document.getElementById("createProductForm");console.log(c),c.addEventListener("submit",(async e=>{e.preventDefault(),console.log("Create a new product");const t=c.name.value,o=c.description.value,n=c.price.value,i=c.category.value,s=c.images.files;let d=[];if(s.length){const e=await l(a.storage,[...s]);d=await Promise.all(e)}const u={name:t,description:o,price:n,category:i,images:d};await async function(e,t){try{await r.addDoc(r.collection(e,"products"),t),console.log("Product added! :)")}catch(e){console.log(e)}}(a.db,u)}));
//# sourceMappingURL=createProduct.07c944ba.js.map
