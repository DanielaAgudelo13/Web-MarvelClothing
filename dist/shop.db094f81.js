var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequire5220;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){n[e]=t},e.parcelRequire5220=o);var a=o("6QD2Y"),c=o("1tHc5"),r=o("etBjH");var i=o("hAAYD"),d=o("LMLC2");const s=document.querySelector(".product"),l=document.getElementById("category"),u=document.getElementById("order");let p;console.log(s);let g=[],f=[];async function m(){const e=await async function(e){const t=r.collection(e,"products");try{const{docs:e}=await r.getDocs(t),n=e.map((e=>({...e.data(),id:e.id})));return console.log(),n}catch(e){console.log(e)}}(a.db);s.innerHTML="",e.forEach((e=>{h(e)})),g=e}function h(e){const t=document.createElement("a");t.className="product",t.setAttribute("href",`./product.html?id=${e.id}`);const n=e.images?e.images[0]:"https://cdn1.iconfinder.com/data/icons/business-company-1/500/image-512.png",o=e.images[1],c=f.some((t=>t.id===e.id))?'<button class="product__cart" disabled>Producto añadido</button>':'<button class="product__cart">Añadir al carrito</button>';t.innerHTML=`\n    <div class="product__item">\n        <div class="product__image">\n            <img src="${n}"\n                alt="" class="product__image--main" />\n            <img src="${o}"\n                alt="" class="product__image--hover" />\n        </div>\n\n        <div class="product__info">\n            <h2>${e.name}</h2>\n            <p>${e.description}</p>\n            <p class="product__price">${e.price}</p>\n            ${c}\n        </div>\n    </div>\n    `,s.appendChild(t);const r=t.querySelector(".product__cart");r.addEventListener("click",(async t=>{t.preventDefault(),f.push(e),d.addProductToCart(f),p&&await i.createFirebaseCart(a.db,p.uid,f),r.setAttribute("disabled",!0),r.innerText="Producto añadido"}))}function _(){const e=l.value,t=u.value;let n=[];n=""!==e?g.filter((t=>t.category===e)):g,"asc"===t&&(n=n.sort(((e,t)=>t.price-e.price))),"desc"===t&&(n=n.sort(((e,t)=>e.price-t.price))),s.innerHTML="",n.forEach((e=>{h(e)}))}l.addEventListener("change",(e=>{_()})),u.addEventListener("change",(e=>{_()})),c.onAuthStateChanged(a.auth,(async e=>{e?(p=e,f=await i.getFirebaseCart(a.db,p.uid)):f=d.getMyLocalCart(),m()}));
//# sourceMappingURL=shop.db094f81.js.map
